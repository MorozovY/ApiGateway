# Sprint Status
# =============
# Последние 5 эпиков. Архив завершённых (1-8): sprint-status-archive.yaml
#
# STATUS DEFINITIONS:
# Epic Status: backlog → in-progress → done
# Story Status: backlog → ready-for-dev → in-progress → review → done
#
# STORY POINTS (Fibonacci):
#   SP:1  — XS, тривиальное, <1 час (удалить виджет, поправить текст)
#   SP:2  — S, простое, 1-2 часа (добавить поле, простой UI)
#   SP:3  — M, среднее, полдня (новый endpoint, форма)
#   SP:5  — L, комплексное, 1 день (feature backend+frontend)
#   SP:8  — XL, большое, 1-2 дня (новый модуль, интеграция)
#   SP:13 — XXL, огромное, требует разбиения
#
# WORKFLOW NOTES:
# - Epic transitions to 'in-progress' when first story is created
# - SM creates next story after previous one is 'done'
# - Dev moves story to 'review', then runs code-review

generated: 2026-02-18
updated: 2026-03-01
project: ApiGateway
project_key: NOKEY
tracking_system: file-system
story_location: "G:\\Projects\\ApiGateway\\_bmad-output\\implementation-artifacts"

# Архив завершённых эпиков 1-8: sprint-status-archive.yaml

development_status:
  # Epic 9: Stabilization & Polish
  epic-9: done  # 2026-02-22: All 6 stories completed
  9-1-auth-session-expires-investigation: done
  9-2-load-generator-fixes: done
  9-3-role-based-sidebar-visibility: done
  9-4-self-service-password-change: done
  9-5-demo-credentials-login-page: done
  9-6-architecture-documentation-update: done
  epic-9-retrospective: done

  # Epic 10: Maintenance & Bug Fixes
  epic-10: done  # 2026-02-23: All 10 stories completed
  10-1-rate-limit-not-working: done
  10-2-approvals-realtime-updates: done
  10-3-security-route-rollback: done
  10-4-author-draft-deletion: done
  10-5-nginx-health-check: done
  10-6-swagger-link-login-page: done
  10-7-quick-start-guide: done
  10-8-fix-audit-changes-viewer: done
  10-9-fix-theme-modals-messages: done
  10-10-fix-top-routes-time-range: done
  epic-10-retrospective: done

  # Epic 11: UX Improvements & Documentation
  epic-11: done  # 2026-02-23: All 6 stories completed
  11-1-integrations-expandable-routes: done
  11-2-system-theme-default: done
  11-3-lua-redis-documentation: done
  11-4-redis-pubsub-documentation: done
  11-5-webflux-patterns-documentation: done
  11-6-role-check-refactoring: done
  epic-11-retrospective: done

  # Epic 12: Keycloak Integration & Multi-tenant Metrics (Total: ~58 SP)
  epic-12: done  # 2026-02-26: All 11 stories completed
  12-1-keycloak-setup-configuration: done              # SP:5 — docker, realm config, test users
  12-2-admin-ui-keycloak-auth-migration: done          # SP:13 — большая миграция, инцидент
  12-3-gateway-admin-keycloak-jwt-validation: done     # SP:5 — Spring Security OAuth2
  12-4-gateway-core-jwt-authentication-filter: done    # SP:5 — WebFlux filter, JWKS
  12-5-gateway-core-consumer-identity-filter: done     # SP:3 — извлечение consumer_id
  12-6-multi-tenant-metrics: done                      # SP:5 — Micrometer labels
  12-7-route-authentication-configuration: done        # SP:5 — backend + frontend
  12-8-per-consumer-rate-limits: done                  # SP:8 — Caffeine + Redis, сложная логика
  12-9-consumer-management-ui: done                    # SP:8 — CRUD UI, Keycloak API
  12-9-1-remove-legacy-cookie-auth: done               # SP:3 — cleanup, удаление кода
  12-10-e2e-playwright-tests: done                     # SP:5 — 25 E2E тестов
  epic-12-retrospective: done

  # Epic 13: GitLab CI/CD & Infrastructure Migration (Total: ~50 SP)
  # Changed: Local GitLab in Docker (Sprint Change Proposal 2026-02-26)
  # Changed: Centralized Infrastructure Migration (Sprint Change Proposal 2026-02-28)
  epic-13: in-progress  # 2026-02-26: Started
  13-0-local-gitlab-infrastructure: done                     # SP:5 — локальный GitLab в Docker
  13-1-gitlab-repository-setup-github-mirror: done           # SP:2 — push repo, настройка mirror
  13-2-ci-pipeline-build-test: done                          # SP:8 — .gitlab-ci.yml, build/test stages
  13-3-docker-image-build-registry: done                     # SP:5 — docker build, registry push
  13-4-vault-integration-secrets: done                          # SP:5 — CHANGED: Vault вместо GitLab Variables
  13-5-deployment-pipeline-dev-test: done                      # SP:8 — code review passed, deploy-dev tested
  13-6-production-deployment-approval: done                    # SP:5 — code review passed, all issues fixed
  13-7-security-scanning-sast-dependencies: backlog          # SP:2 — включить GitLab SAST templates
  # NEW: Infrastructure Migration (Sprint Change Proposal 2026-02-28)
  13-8-traefik-routing-configuration: backlog                # SP:3 — nginx → Traefik, routing rules
  13-9-postgresql-migration-to-infra: backlog                # SP:3 — миграция БД в централизованный postgres
  13-10-redis-migration-to-infra: backlog                    # SP:2 — переключение на централизованный redis
  13-11-monitoring-migration-prometheus-grafana: backlog     # SP:3 — перенос dashboards в infra
  13-12-docker-compose-cleanup-documentation: backlog        # SP:2 — cleanup, обновление docs
  epic-13-retrospective: optional
